@startuml
!include ../base.txt

title UML Diagram

object Automate

Automate : lecture()

object Lexer
Lexer : Symbole getNext()

object Symbole
note left: Enum (Minus, OpenBy, CloseBy, Mult, Divide, Plus) & Enum (End, Sep, Operator, Const, Var)
object Expr
object Number
object Variable
object ExprBin
object ExprMult
object ExprDivide
object ExprPlus
object ExprMinus

object Type
object Const
object Var

object Instruction
object PartieInstruction
object PartieDeclarative
object Declare
object Affect
object Lire
object Ecrire

object End
object Sep

object Etat

Automate *-- Lexer
Automate *-- Symbole : pileSymboles 0..*
Automate *-- Etat : pileEtats 0..*

Symbole <|-- Expr
Symbole <|-- Type
Symbole <|-- Operator
Symbole <|-- Instruction
Symbole <|-- PartieInstruction
Symbole <|-- PartieDeclarative
Symbole <|-- Sep
Symbole <|-- End


Expr <|-- Number
Expr <|-- Variable
Expr <|-- ExprBin

ExprBin --* Expr: 2..2
ExprBin <|-- ExprMult
ExprBin <|-- ExprDivide
ExprBin <|-- ExprPlus
ExprBin <|-- ExprMinus

Type <|-- Const
Type <|-- Var

Intruction --* PartieInstruction : 0..*
Instruction <|-- Affect
Instruction <|-- Declare
Instruction <|-- Lire
Instruction <|-- Ecrire

Lire *-- Number
Ecrire *-- Expr

Affect *-- Variable

@enduml